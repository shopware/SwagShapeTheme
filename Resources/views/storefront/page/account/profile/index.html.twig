{% sw_extends '@Storefront/storefront/page/account/profile/index.html.twig' %}

{% block page_account_profile_personal_action_button_send %}
    <button type="submit"
            class="profile-form-submit btn btn-primary w-100"
            title="{{ "account.profileSaveChanges"|trans|striptags }}">
        {{ "account.profileSaveChanges"|trans|sw_sanitize }}
    </button>
{% endblock %}

{% block page_account_profile_personal_required %}
    <p class="account-profile-required-info required-fields">
        {{ "general.requiredFieldsProfile"|trans|sw_sanitize }}
    </p>
{% endblock %}

{% block page_account_profile_credentials_header %}
{% endblock %}

{% block page_account_profile_credentials_current_mail %}
{% endblock %}

{% block page_account_profile_credentials_change_mail %}
    <div class="col-sm-6 card-profile-change-mail">
        <div class="card">
            <div class="card-body">
                <div class="card-title">
                    <div>{{ "account.profileCurrentMail"|trans|sw_sanitize }}</div>

                    <div class="card-actions">
                        {% block page_account_profile_credentials_change_mail_card %}
                            <a class="account-profile-change{% if not emailFormViolation %} collapsed{% endif %}"
                               data-toggle="collapse"
                               href="#profile-email-form"
                               role="button"
                               aria-expanded="{% if emailFormViolation %}true{% else %}false{% endif %}"
                               aria-controls="profile-email-form">
                                {{ "account.profileChangeEmail"|trans|sw_sanitize }}
                            </a>
                        {% endblock %}
                    </div>
                </div>
                <p>{{ context.customer.email }}</p>
            </div>
        </div>
    </div>
{% endblock %}

{% block page_account_profile_credentials_change_password %}
    <div class="col-sm-6 card-profile-change-pass">
        <div class="card col-12">
            <div class="card-body">
                <div class="card-title">
                    <div>{{ "account.profileCurrentPass"|trans|sw_sanitize }}</div>

                    <div class="card-actions">
                        <a class="account-profile-change{% if not passwordFormViolation %} collapsed{% endif %}"
                           data-toggle="collapse"
                           href="#profile-password-form"
                           role="button"
                           aria-expanded="{% if passwordFormViolation %}true{% else %}false{% endif %}"
                           aria-controls="profile-password-form">
                            {{ "account.profileChangePassword"|trans|sw_sanitize }}
                        </a>
                    </div>
                </div>
                <p>{{ "account.profilePasswordText"|trans|sw_sanitize }}</p>
            </div>
        </div>
    </div>
{% endblock %}

{% block page_account_profile_delete_account %}
    {% if shopware.config.core.loginRegistration.allowCustomerDeletion %}
        <div class="card-account-deleting account-deleting">
            <div class="card">
                <div class="card-body">
                    <div class="card-title">
                        <div>{{ "account.profileAccountDeleting"|trans|sw_sanitize }}</div>
                    </div>
                    <p>{{ 'account.profileDelete'|trans({
                            '%target%': '#confirmDeleteAccountModal'
                        })|raw }}</p>
                </div>
            </div>
        </div>
    {% endif %}
{% endblock %}

{% block page_account_delete_account_confirm_button %}
    <div class="text-right">
        <button class="btn btn-primary" type="submit">
            {{ "account.profileDeleteButton"|trans|sw_sanitize }}
        </button>
    </div>
{% endblock %}

{% block page_account_delete_account_confirm_text %}
    <p>{{ "account.profileDeleteConfirm"|trans|sw_sanitize }}</p>
{% endblock %}

{% block page_account_delete_account_confirm_modal_header_close_button %}
    <button
        type="button"
        class="modal-close close"
        data-dismiss="modal"
        aria-label="Close">
            <span aria-hidden="true">
                {% sw_icon 'ic-delete' style { 'pack': 'shape' } %}
            </span>
    </button>
{% endblock %}
